<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>datepicker-bs4</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/css/bootstrap.min.css" integrity="sha512-rt/SrQ4UNIaGfDyEXZtNcyWvQeOq0QLygHluFQcSjaGB04IxWhal71tKuzP6K8eYXYB6vJV4pHkXcmFGGQ1/0w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer" defer="defer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.bundle.min.js" integrity="sha512-igl8WEUuas9k5dtnhKqyyld6TzzRjvMqLC79jkgT3z02FvJyHAuUtyemm/P/jYSne1xwFI06ezQxEwweaiV7VA==" crossorigin="anonymous" referrerpolicy="no-referrer" defer="defer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.4/dayjs.min.js" integrity="sha512-Ot7ArUEhJDU0cwoBNNnWe487kjL5wAOsIYig8llY/l0P2TUFwgsAHVmrZMHsT8NGo+HwkjTJsNErS6QqIkBxDw==" crossorigin="anonymous" referrerpolicy="no-referrer" defer=""defer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js" integrity="sha512-Tn2m0TIpgVyTzzvmxLNuqbSJH3JP8jm+Cy3hvHrW7ndTDcJ1w5mBiksqDBb8GpE2ksktFvDB/ykZ0mDpsZj20w==" crossorigin="anonymous" referrerpolicy="no-referrer" defer="defer"></script>
<script src="js/datepicker-bs4.js?" defer="defer"></script>
<style>
.form-control::placeholder {
	opacity: 0.5 !important;
}
</style>
</head>
<body>
<div class="container py-3">
<div class="d-flex justify-content-between">
	<div><h1 class="display-4">datepicker-bs4</h1></div>
	<div><a href="https://github.com/lesilent/datepicker-bs4" title="datepicker-bs4 on GitHub"><i class="fab fa-github fa-lg m-2"></i></a></div>
</div><!-- /.d-flex -->
<div class="list-group">
<div class="list-group-item bg-light font-weight-bolder">Options</div>
<div class="list-group-item"><form id="custom-form" autocomplete="off" onsubmit="return false">
<div class="row">
	<div class="form-group col-6 col-md-4 col-lg-3">
		<label for="id">ID:</label>
		<div class="input-group">
		<input type="text" id="id" class="form-control options-control" name="id" value="" maxlength="64" />
		<div class="input-group-append"><button type="button" id="id-reset-btn" class="btn btn-outline-secondary" disabled="disabled" title="Reset ID"><i class="far fa-times-circle"></i></button></div>
		</div><!-- /.input-group -->
	</div><!-- /.form-group -->
	<div class="form-group col-6 col-md-4 col-lg-3">
		<label for="name">Name:</label>
		<div class="input-group">
		<input type="text" id="name" class="form-control options-control" name="name" value="" maxlength="64" autocomplete="off" />
		<div class="input-group-append"><button type="button" id="name-reset-btn" class="btn btn-outline-secondary" disabled="disabled" title="Reset Name"><i class="far fa-times-circle"></i></button></div>
		</div><!-- /.input-group -->
	</div><!-- /.form-group -->
	<div class="form-group col-6 col-md-4 col-lg-3">
		<label for="format">Format:</label>
		<div class="input-group">
		<input type="text" id="format" class="form-control options-control" name="format" value="YYYY-MM-DD" readonly="readonly" />
		<div class="input-group-append">
		<button type="button" class="btn btn-outline-secondary dropdown-toggle" data-toggle="dropdown" aria-expanded="false"></button>
		<div id="format-dropdown-menu" class="dropdown-menu dropdown-menu-right">
			<button type="button" class="dropdown-item">YYYY-MM-DD</button>
			<button type="button" class="dropdown-item">MM/DD/YYYY</button>
			<button type="button" class="dropdown-item">DD/MM/YYYY</button>
		</div><!-- /.dropdown-menu -->
		</div><!-- /.input-group-append -->
		</div><!-- /.input-group -->
	</div><!-- /.form-group -->
	<div class="form-group col-6 col-md-4 col-lg-3">
		<label for="minDate">Min Date:</label>
		<div class="input-group">
		<input type="text" id="minDate" class="form-control options-control" name="minDate" placeholder="YYYY-MM-DD" pattern="([12][0-9][0-9][0-9]-(1[12]|0[1-9])-(0[1-9]|[12][0-9]|3[01]))?" maxlength="10" data-format="YYYY-MM-DD" />
		<div class="input-group-append"><button type="button" id="minDate-reset-btn" class="btn btn-outline-secondary" disabled="disabled" title="Reset Option"><i class="far fa-times-circle"></i></button></div>
		</div><!-- /.input-group -->
	</div><!-- /.form-group -->
	<div class="form-group col-6 col-md-4 col-lg-3">
		<label for="maxDate">Max Date:</label>
		<div class="input-group">
		<input type="text" id="maxDate" class="form-control options-control" name="maxDate" placeholder="YYYY-MM-DD" pattern="([12][0-9][0-9][0-9]-(1[12]|0[1-9])-(0[1-9]|[12][0-9]|3[01]))?" maxlength="10" data-format="YYYY-MM-DD" />
		<div class="input-group-append"><button type="button" id="maxDate-reset-btn" class="btn btn-outline-secondary" disabled="disabled" title="Reset Option"><i class="far fa-times-circle"></i></button></div>
		</div><!-- /.input-group -->
	</div><!-- /.form-group -->
	<div class="form-group col-6 col-md-4 col-lg-3">
		<label for="togglebtn">Toggle Button:</label>
		<select id="togglebtn" class="form-control options-control">
		<option value="0">No</option>
		<option value="1">Yes</option>
		</select>
	</div><!-- /.form-group -->
	<div class="form-group col-6 col-md-4 col-lg-3">
		<label for="paramtype">Options:</label>
		<select id="paramtype" class="form-control options-control">
		<option value="HTML">HTML</option>
		<option value="JS">JavaScript</option>
		</select>
	</div><!-- /.form-group -->
</div><!-- /.row -->
</form></div>
<div class="list-group-item bg-light font-weight-bolder">Result</div>
<div class="list-group-item">
	<form class="form-inline" autocomplete="off" onsubmit="return false">
	<label id="datepicker-input-label" class="mr-sm-2 sr-only" for="datepicker-input">Date:</label>
	<input type="text" id="datepicker-input" class="form-control datepicker-input" name="date" value="" size="11" autocomplete="off" />
	<label id="datepicker-input-group-label" class="mr-sm-2 sr-only" for="datepicker-input-group">Date:</label>
	<div class="input-group datepicker-input-group d-none">
		<input type="text" id="datepicker-input-group" class="form-control datepicker-input" name="date" value="" size="11" autocomplete="off" />
		<div class="input-group-append"><button type="button" class="btn btn-outline-secondary" data-toggle="datepicker" data-target="#datepicker-input-group"><i class="far fa-calendar-alt"></i></button></div>
	</div><!-- /.input-group -->
	</form>
</div><!-- /.list-group-item -->
<div class="list-group-item bg-light font-weight-bolder">HTML</div>
<div class="list-group-item"><pre class="mb-0"><code id="datepicker-html"><span class="datepicker-input-group d-none">&lt;div class=&quot;input-group&quot;&gt;</span>
<span id="datepicker-indent" class="d-none">  </span>&lt;input type=&quot;text&quot;<span id="datepicker-id"></span><span id="datepicker-name"></span> class=&quot;form-control datepicker-bs4&quot;<span id="datepicker-attribs"></span> /&gt;
    <span class="datepicker-input-group d-none">&lt;div class=&quot;input-group-append&quot;&gt;
      &lt;button type=&quot;button&quot; class=&quot;btn btn-outline-secondary&quot; data-toggle=&quot;datepicker&quot;<span id="datepicker-target"></span>&gt;&lt;i class=&quot;far fa-calendar-alt&quot;&gt;&lt;/i&gt;&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;</span></code></pre></div>
<div class="list-group-item bg-light font-weight-bolder">JavaScript</div>
<div class="list-group-item"><pre class="mb-0"><code id="datepicker-javascript">jQuery('input.datepicker-bs4').datepicker(<span id="datepicker-params"></span>);</code></pre></div>
</div><!-- /.list-group -->
<br />
</div><!-- /.container -->
<script>
document.addEventListener('DOMContentLoaded', function () {
	jQuery('#minDate, #maxDate').datepicker();
	var $picker = jQuery('#datepicker-input').datepicker();
	var defaultFormat = $picker.datepicker('format');
	var dateRegex = new RegExp('^' + document.getElementById('minDate').pattern.replace(/\?$/, '').replace('\\', '\\\\') + '$');
	jQuery('.options-control').on('change', function () {
		if (this.type == 'text')
		{
			this.value = this.value.replace(/^\s+|\s+$/, '');
		}
		let this_value = this.value;
		switch (this.id)
		{
			case 'id':
				this_value = this_value.replace(/[^\w\-\.:]+/g, '').replace(/^[^a-z]+/i, '');
				document.getElementById('datepicker-id').textContent = (this_value.length > 0) ? ' id="' + this_value + '"' : '';
				document.getElementById('datepicker-target').textContent = (this_value.length > 0) ? ' data-target="#' + this_value + '"' : '';
				document.getElementById('id-reset-btn').disabled = !(this_value.length > 0);
				this.value = this_value;
				break;
			case 'name':
				this_value = this_value.replace(/[^\w\-\.:]+/g, '').replace(/^[^a-z]+/i, '');;
				document.getElementById('datepicker-name').textContent = (this_value.length > 0) ? ' name="' + this_value + '"' : '';
				document.getElementById('name-reset-btn').disabled = !(this_value.length > 0);
				this.value = this_value;
				break;
			case 'format':
				$picker.val('').datepicker('date', null);
				break;
			case 'maxDate':
			case 'minDate':
				if (!dateRegex.test(this_value))
				{
					this_value = '';
				}
				document.getElementById(this.id + '-reset-btn').disabled = !(this_value.length > 0);
				this.value = this_value;
				break;
		}
		var attribs = '', options = {};
		jQuery.each({ format: 'format', minDate: 'min', maxDate: 'max' }, function (option, attr) {
			var input = document.getElementById(option);
			var value = input.value;
			jQuery('.datepicker-input').datepicker(option, value);
			if (value.length > 0 && !(option == 'format' && value == defaultFormat))
			{
				options[option] = value;
				attribs += ' ' + ((attr == 'format') ? 'data-' : '') + attr + '="' + value + '"';
			}
		});
		var paramtype = document.getElementById('paramtype').value;
		var togglebtn = (document.getElementById('togglebtn').selectedIndex > 0);
		jQuery('.datepicker-input-group').toggleClass('d-none', !togglebtn);
		$picker.toggleClass('d-none', togglebtn);
		jQuery('#datepicker-indent').toggleClass('d-none', !togglebtn);
		document.getElementById('datepicker-attribs').textContent = (paramtype == 'HTML') ? attribs : '';
		document.getElementById('datepicker-params').textContent = (paramtype == 'JS' && attribs.length > 0) ? JSON.stringify(options, null, "\t").replace(/"([^"]+)":/g, '$1:') : '';
	});
	var $format = jQuery('#format').val(defaultFormat).prop('readOnly', false);
	jQuery('#format-dropdown-menu').find('button').on('click', function () {
		$format.val(this.textContent).trigger('change');
	});
	jQuery('#id-reset-btn, #name-reset-btn, #maxDate-reset-btn, #minDate-reset-btn').on('click', function () {
		jQuery('#' + this.id.substring(0, this.id.length - 10)).val('').trigger('change');
		this.disabled = true;
	});
});
</script>
</body>
</html>